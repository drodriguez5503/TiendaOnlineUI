
<div class="container my-4">
  <div class="card p-4 shadow-sm">
    <div class="d-flex align-items-center">
      <img src="/img.png" class="rounded-circle me-3" width="80" height="80" alt="User Avatar">
      <div>
        <h4 class="fw-bold">{{user?.username}}</h4>
        <p class="text-muted mb-1"></p>
        <div>
          <p class="mb-0"><i class="bi bi-geo-alt"></i> 9034 Jacquelyn ton</p>
          <p class="mb-0"><i class="bi bi-telephone"></i> +1 234567890</p>
          <p class="mb-0"><i class="bi bi-envelope"></i> bernadette&#64;gmail.com</p>
          <p></p>
        </div>
      </div>
    </div>
    <button class="btn btn-primary mt-3">Add to Cardholder</button>
  </div>

  <div class="mt-4 mx-auto">
    <h5 class="fw-bold text-center">Mis Productos</h5>
    <button class="btn btn-success mt-3 add" (click)="addProduct()">Agregar Producto</button>
    <div *ngIf="products.length === 0" class="alert alert-warning">No hay productos agregados.</div>
    <table class="table table-responsive mt-3 w-75 mx-auto">
      <thead>
      <tr>
        <th>Producto</th>
        <th>Precio</th>
        <th>Acciones</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let product of products; let i = index">
        <td class="d-flex align-items-center">
          <img src="/img.png" alt="Producto" class="img-thumbnail me-2" style="max-width: 50px;">
          {{product.name}}
        </td>
        <td>{{product.price}} {{product.currency}}</td>
        <td>
          <button class="btn btn-danger btn-sm" (click)="removeProduct(product.id)"><i class="bi bi-trash"></i> Eliminar</button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>

<div *ngIf="productForm" class="position-fixed top-0 start-0 w-100 h-100 bg-dark bg-opacity-50 z-3" (click)="addProduct()">
  <div class="position-absolute top-50 start-50 translate-middle w-75 slide-up bg-white rounded p-4 shadow details slide-up"  (click)="$event.stopPropagation()">
    <i class="bi bi-x position-absolute fs-2 end-0 top-0 fw-bolder text-muted" (click)="addProduct()"></i>
    <app-add-product-form></app-add-product-form>
  </div>
</div>
